<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingresar al sistema | Sistema de Inventario</title>
    <link rel="stylesheet" href="./public/css/output.css">
    <link rel="shortcut icon" href="https://gestiondeproyectos.fenixbgsas.com/assets/img/logo-icon.png"
        type="image/x-icon">
</head>

<body">

    <main class="flex justify-center items-center bg-gray-100 min-h-screen placeholder-opacity-10 py-8 px-3">


        <section class="flex flex-col bg-white shadow-md w-full rounded-lg lg:flex-row lg:max-w-5xl">

            <!-- Imagen -->
            <div class=" h-72 p-5 lg:w-1/2 lg:max-h-full lg:h-full lg:order-1">

                <img class="h-full w-full rounded-lg object-cover"
                    src="https://cdn.pixabay.com/photo/2017/08/02/01/11/people-2569404_1280.jpg" alt="">

            </div>

            <!-- form -->
            <div class="lg:w-1/2 px-10 p-5">

                <h2 class="text-3xl font-semibold text-blue-800">Iniciar sesión</h2>
                <p class="text-sm mt-1 text-blue-800/70">Ingresa tus datos para iniciar sesión</p>
                <form class="flex flex-col gap-4" action="dashboard.html" id="formulario">
                    <div>
                        <input class="p-2 mt-8 rounded-lg border w-full" type="email" name="email" id="input_email"
                            placeholder="Correo electronico" required>
                        <div class="hidden" id="input_email__error">
                            <p class="text-sm text-red-500 pl-2 mt-1 flex items-center gap-x-1">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
                                </svg>
                                <span id="input_email__message"></span>
                            </p>
                        </div>
                    </div>
                    <div>
                        <input class="p-2 mt-6 rounded-lg border w-full" type="password" name="password"
                            id="input_password" placeholder="Contraseña" required>
                        <div class="hidden" id="input_password__error">
                            <p class="text-sm text-red-500 pl-2 mt-1 flex items-center gap-x-1">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
                                </svg>
                                <span id="input_password__message"></span>
                            </p>
                        </div>
                    </div>
                    <button class="bg-blue-800 p-2 mt-10 rounded-lg text-white hover:bg-blue-900 "
                        type="submit">Ingresar</button>
                </form>

                <a class="inline-block mt-3 text-gray-600 hover:underline" href="reset_password.html">¿Olvidaste tu
                    contraseña?</a>

                <div class="mt-6 flex items-center justify-center text-gray-500 lg:my-8">
                    <hr class="border-gray-500 flex-1">
                    <span class="inline-block w-5 text-center mx-3">ó</span>
                    <hr class="border-gray-500 flex-1">
                </div>

                <div class="flex flex-col justify-between mt-8 text-sm gap-4">
                    <p>¿Aún no tienes una cuenta?</p>
                    <a class="border border-gray-600 rounded-lg p-2 hover:bg-gray-100 hover:border-gray-600 w-full text-center"
                        href="register.html">Registrate</a>
                </div>

                <img class="inline-block w-32 mt-5 lg:mt-20 lg:w-64"
                    src="https://www.fenixbgsas.com/wp-content/uploads/2023/08/cropped-FenixLogoOscuro-1-300x100.png"
                    alt="logo Fénix BG SAS">
            </div>




        </section>
    </main>

    <script>
        const formulario = document.getElementById("formulario");
        const formInputs = document.querySelectorAll("#formulario input");

        const expresiones = {
            "email": /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,
            "password": /^.{8,12}$/ // 4 a 12 digitos.
        }

        const errores = {
            "email": "Ingresa un correo electronico valido",
            "password": "La contraseña debe tener minimo 8 caracteres"
        }

        const campos = {
            "email": false,
            "password": false
        }




        const validarFormulario = (e) => {
            const input = document.getElementById(`input_${e.target.name}`);
            const inputError = document.getElementById(`input_${e.target.name}__error`);
            const inputMessage = document.getElementById(`input_${e.target.name}__message`);

            if (input.value != "") {
                if (expresiones[e.target.name].test(e.target.value)) {
                    input.classList.remove("outline-red-500");
                    inputError.classList.add("hidden");
                    campos[e.target.name] = true;
                } else {
                    input.classList.add("outline-red-500");
                    inputMessage.innerHTML = errores[e.target.name];
                    inputError.classList.remove("hidden");
                }
            } else {
                input.classList.add("outline-red-500");
                inputMessage.innerHTML = "Debes llenar este campo";
                inputError.classList.remove("hidden");
            }

        }

        formulario.addEventListener('submit', (e) => {
            e.preventDefault();

            if (campos["email"] && campos["password"]) {
                formulario.submit();
            }
        })


        formInputs.forEach(input => {
            input.addEventListener('blur', validarFormulario);
        });

       
    </script>
    </body>

</html>